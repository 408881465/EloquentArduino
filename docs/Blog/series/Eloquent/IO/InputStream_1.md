---
title: InputStream . Part1
date: 2019-11-25
namespace: 'Eloquent::IO'
---

# IO::InputStream . Part1

`InputStream` is an abstract class to interact with, well, input streams!
What are input streams, by the way? Simply put, an input stream is any thing
that generates values over time. Examples of input streams are an input pin
(digital or analog) and any kind of sensor that returns a numeric value.

Why do we need input streams? Because we can manipulate them using
a uniform interface. We can carry all sort of operations on the values
generated by the stream, careless of where those values come from.
This means we can implement "abstract" algorithms that can be reused
multiple times on different data.

Want an example? Let's say you want to apply [Exponential Smoothing](https://en.wikipedia.org/wiki/Exponential_smoothing)
to an analog potentiometer. To get this working you will need 3 variables: the current value, the past value
and the smoothing factor (in the range ]0, 1]). <br>
With the InputStream construct you may use a `Transformer` instead.
A Transformer is a class that gets values from an input stream and transforms
them in some way. So an exponential smoothing transformer in action over an
analog input stream will look like the following:

```c 
AnalogInputStream potentiometer(A0);

void setup() {
    potentiometer.then(new ExponentialSmoothing(0.5));
}

void loop() {
    Serial.println(potentiomenter.read());
}
```

Now, the input stream transparently takes care of managing its transformer,
so you can just get the processed value with the `read()` method. If you have
set a transformer, it will transform your value, otherwise you'll get the raw
value.

Do you know what's the best part? Transformers are **chainable** :fire::fire::fire:<br />
If you want to map your smoothed potentiometer from [0, 1024] to [0, 100], for example,
you can chain a `Map` transformer:

```c 
AnalogPinInputStream potentiometer(A0);

void setup() {
    potentiometer
        .then(new ExponentialSmoothing(0.5))
        .then(new Map(0, 1024, 0, 100));
}

void loop() {
    Serial.println(potentiomenter.read());
}
```

As you can see, the loop didn't changed at all: the transformers are totally
transparent to you!

In [Part 2](./InputStream_2.md) we'll dig deeper into the available input streams.

